# Paprika

Paprika is a Minecraft Spigot plugin that allows you to write powerful, server-side plugins in Lua, a language which is far easier to learn and has major benefits over Java.

The promises that this project will attempt to fulfill are as follows:
- [ ] "Standard library" that one can use to interact with the game in a Lua-idomatic fashion
- [ ] The possibility for people to port this plugin to Fabric/server-side Forge and easily maintain compatibility with said "standard library", allowing for portability of plugins written in Lua.
- [ ] ProtocolLib bindings
- [ ] Functions for the end user to optionally interact with lower-level parts of the plugin from their Lua code, which I believe is an important part of any language let alone library.

This has been attempted before and has been abandoned. The plan here is to make the project easier to maintain, not only for the developers, but for the end users, and this is how:

- [ ] Boilerplate/generic code is auto-generated by Python scripts.
- [ ] Amidst this boilerplate/generic code is an "unsafe library" which contains functions for calling other Java functions via a string and JSON. The final lua interpreter will automatically intercept function calls prefacted with `unsafe_` and execute the functions in this library instead, using a lua object for the JSON part. A good portion of this is extremely tedious to generate and ultimately many parts of this function will have to be hand-written, but the upsides are that:
        - updating the library can potentially be extremely quick for the developer based on how much of Minecraft's new additions can be resolved with boilerplate code (hahaha)
        - if for any reason I can't update, the end user can, because *this approach allows for the 'standard portion' of the library to be written in Lua itself!*

It is currently a work in progress.

### battle plan:
- [ ] Create a Python script that will create an "unsafe library".
    - [ ] Functions for constructing objects
    - [ ] A function for calling other functions.
- [ ] Implement a Lua interpreter that can parse files from subfolders in the same directory.
- [ ] Have the Lua interpreter manually intercept functions that start with `unsafe_` and execute the corresponding function; the functions themselves should only take one anonymous Lua object as an argument and should parse that to JSON.
- [ ] Add the appropriate hooks to correspond with Spigot's event handlers.